# 将两个 Docker 容器切换到同一个网络并允许互相访问
```
要将两个 Docker 容器切换到同一个网络并允许互相访问，可以使用以下方法：

创建自定义网络：首先，创建一个自定义网络，这样两个容器就可以连接到同一个网络中。使用以下命令创建一个自定义网络：

$ docker network create <网络名称>
运行容器时指定网络：在运行两个容器时，使用 --network 参数来指定它们连接的网络。将每个容器与创建的自定义网络关联起来，以确保它们在同一个网络中。

例如，运行 MySQL 容器时使用以下命令：

$ docker run --name mysql-container --network <网络名称> -e MYSQL_ROOT_PASSWORD=<密码> -d mysql:tag
运行 Flask 容器时使用以下命令：

$ docker run --name flask-container --network <网络名称> -p 5000:5000 -d flask:tag
将 <网络名称> 替换为您为容器创建的自定义网络的名称。确保 MySQL 容器和 Flask 容器都使用相同的网络名称。

容器之间的通信：通过容器的名称进行通信。Docker 在同一个网络中的容器之间提供了 DNS 解析，可以使用容器的名称作为主机名进行通信。在 Flask 应用的配置中，使用 MySQL 容器的名称来配置 SQLALCHEMY_DATABASE_URI，例如：

SQLALCHEMY_DATABASE_URI = 'mysql+pymysql://<用户名>:<密码>@mysql-container:3306/<数据库名称>'
将 <用户名>、<密码>、mysql-container、3306 和 <数据库名称> 替换为实际的值。

通过这些步骤，您可以将两个 Docker 容器切换到同一个网络，并允许它们互相访问。确保自定义网络的名称一致，并在容器的运行命令中指定该网络。根据实际情况修改容器的名称、端口号、用户名、密码和数据库名称。


```

# 要将已经运行的容器切换到其他网络
```
可以使用以下方法：

确认容器是否已经运行：首先，确认要切换网络的容器已经处于运行状态。可以使用 docker ps 命令来检查容器的运行状态。

停止容器：在切换网络之前，需要先停止容器。使用以下命令停止容器：

$ docker stop <容器名称或ID>
断开容器和旧网络的连接：使用以下命令来断开容器和旧网络的连接：

$ docker network disconnect <旧网络名称> <容器名称或ID>
将 <旧网络名称> 替换为容器当前所连接的网络的名称，<容器名称或ID> 替换为要断开连接的容器的名称或ID。

连接容器到新网络：使用以下命令将容器连接到新的网络：

$ docker network connect <新网络名称> <容器名称或ID>
将 <新网络名称> 替换为要连接的新网络的名称，<容器名称或ID> 替换为要连接的容器的名称或ID。

启动容器：使用以下命令启动容器：

$ docker start <容器名称或ID>
通过以上步骤，您可以将已经运行的容器切换到其他网络。确保替换正确的容器名称、旧网络名称和新网络名称。在切换网络后，容器将能够与新网络中的其他容器进行通信。



要查看容器连接的网络，可以使用以下方法：

使用 docker inspect 命令：运行以下命令来查看容器连接的网络信息：

$ docker inspect --format='{{range $key, $value := .NetworkSettings.Networks}}{{printf "%s: %s\n" $key $value.NetworkID}}{{end}}' <容器名称或ID>
这个命令会输出容器连接的每个网络的名称和网络ID。

使用 docker network inspect 命令：运行以下命令来查看特定网络的详细信息，包括连接到该网络的容器：

$ docker network inspect <网络名称>
将 <网络名称> 替换为您要查看的网络的名称。

这些方法可以帮助您查看容器连接的网络信息。通过运行相应的命令，您可以获取容器所连接的网络的名称、网络ID以及其他相关的网络配置信息。


```